"use strict";!function(e,t){e(function(){var n="active",o=e(window),a=e(".page"),i=e(".js-menu"),s=e(".js-menu-sub"),r=e(".left");i.find(".parent").on("mouseover",function(t){var o=e(t.currentTarget);if(!o.hasClass(n)){var a=e(t.currentTarget).find("ul");s.hasClass("show")?s.stop().animate({opacity:0},100,function(){setTimeout(function(){s.html(a[0].outerHTML),s.animate({opacity:1},300)},200)}):s.html(a[0].outerHTML).addClass("show").stop().animate({opacity:1},100),i.find(".parent").removeClass(n),o.addClass(n)}});e("body").bind("mouseover",function(t){if(s.hasClass("show")){var o=e(t.target);r.find(o).length||s.stop().animate({opacity:0},300,function(){setTimeout(function(){s.removeClass("show").removeAttr("style"),i.find(".parent").removeClass(n)},200)})}}),new t(".js-main-slider",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new t(".mobile-news",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new t(".js-projects",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new t(".js-partners",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".js-partners-next",prevEl:".js-partners-prev"}});var l=new t(".js-slider",{loop:!0,loopedSlides:6,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".slider-next",prevEl:".slider-prev"}});new t(".js-slider-thumbs",{loop:!0,loopedSlides:6,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0,controller:{control:l},on:{init:function(){l.controller.control=this}}}),e(".form-control.invalid").find(".form-control__input, .form-control__textarea").focus(function(t){e(t.currentTarget).parent().removeClass("invalid")});e(".js-hidden").on("click",function(t){var n=e(t.currentTarget),o=n.parent().find(".hidden-block"),a=n.find("span"),i=n.hasClass("show");n.animate({opacity:0},200,function(){i?a.text(o.find("b").text()):a.text("Свернуть"),n.toggleClass("show",!i),o.slideToggle(200),setTimeout(function(){n.animate({opacity:1},200)},200)})}),e(".js-latent").on("click",function(t){e(t.currentTarget).parent().find(".latent-block").slideToggle(200)}),e(".js-lang").on("click",function(t){e(t.currentTarget).toggleClass("show")});var c="mobile-open",u=e(".mobile-menu").find(".parent");e(".js-mobile").on("click",function(){a.toggleClass(c)}),u.find("span").on("click",function(t){var o=e(t.currentTarget).parent(),a=o.find("ul");o.hasClass(n)?(o.removeClass(n),a.slideUp()):(o.addClass(n),a.slideDown())}),o.resize(function(e){e.currentTarget.innerWidth>1024&&a.hasClass(c)&&(a.removeClass(c),u.find("span").removeClass(n).parent().find("ul").removeAttr("style"))});var p=a.find(".main"),d=p.offset().top;a.scroll(function(e){var t=e.target.scrollTop;p.toggleClass("menu-fixed",t>=d)}),a.find(".js-select").each(function(t,n){var o,a=e(n),i=a.parent(),s=a.data("placeholder"),r={includeValue:!0};void 0!==(o=s)&&o.length&&(r.placeholder=e("<span/>",{class:"gray",text:s})),a.customSelect(r),i.hasClass("invalid")&&i.find(".custom-select > .custom-select__option").on("click",function(){i.removeClass("invalid")})}),e(".js-industry").on("click",function(t){var o=e(t.currentTarget),a=o.hasClass(n);a?o.parent().find("input[type=hidden][value="+o.val()+"]").remove():e("<input/>",{type:"hidden",value:o.val(),name:o.data("hidden-name")}).insertAfter(o),o.toggleClass(n,!a)});var f=e(".js-arrow-top"),v=function(e){f.stop().animate({opacity:e},200)};a.scroll(function(t){var n=+(e(t.currentTarget).scrollTop()>200);v(n)}),a.scrollTop()>200&&v(1),f.on("click",function(){parseInt(f.css("opacity"),10)&&a.animate({scrollTop:0},600)})})}(jQuery,Swiper);