"use strict";!function(e,t){e(function(){var n="active",a=e(window),i=e(".page"),o=e(".js-menu"),s=e(".js-menu-sub"),r=e(".left");o.find(".parent").on("mouseover",function(t){var a=e(t.currentTarget);if(!a.hasClass(n)){var i=e(t.currentTarget).find("ul");s.hasClass("show")?s.stop().animate({opacity:0},100,function(){setTimeout(function(){s.html(i[0].outerHTML),s.animate({opacity:1},300)},200)}):s.html(i[0].outerHTML).addClass("show").stop().animate({opacity:1},100),o.find(".parent").removeClass(n),a.addClass(n)}});e("body").bind("mouseover",function(t){if(s.hasClass("show")){var a=e(t.target);r.find(a).length||s.stop().animate({opacity:0},300,function(){setTimeout(function(){s.removeClass("show").removeAttr("style"),o.find(".parent").removeClass(n)},200)})}}),new t(".js-main-slider",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new t(".mobile-news",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new t(".js-projects",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new t(".js-partners",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".js-partners-next",prevEl:".js-partners-prev"}});var l=new t(".js-slider",{loop:!0,loopedSlides:6,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".slider-next",prevEl:".slider-prev"}});new t(".js-slider-thumbs",{loop:!0,loopedSlides:6,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0,controller:{control:l},on:{init:function(){l.controller.control=this}}}),e(".form-control.invalid").find(".form-control__input, .form-control__textarea").focus(function(t){e(t.currentTarget).parent().removeClass("invalid")});e(".js-hidden").on("click",function(t){var n=e(t.currentTarget),a=n.parent().find(".hidden-block"),i=n.find("span"),o=n.hasClass("show");n.animate({opacity:0},200,function(){o?i.text(a.find("b").text()):i.text("Свернуть"),n.toggleClass("show",!o),a.slideToggle(200),setTimeout(function(){n.animate({opacity:1},200)},200)})}),e(".js-lang").on("click",function(t){e(t.currentTarget).toggleClass("show")});var c="mobile-open",u=e(".mobile-menu").find(".parent");e(".js-mobile").on("click",function(){i.toggleClass(c)}),u.find("span").on("click",function(t){var a=e(t.currentTarget).parent(),i=a.find("ul");a.hasClass(n)?(a.removeClass(n),i.slideUp()):(a.addClass(n),i.slideDown())}),a.resize(function(e){e.currentTarget.innerWidth>1024&&i.hasClass(c)&&(i.removeClass(c),u.find("span").removeClass(n).parent().find("ul").removeAttr("style"))});var d=i.find(".main"),p=d.offset().top;i.scroll(function(e){var t=e.target.scrollTop;d.toggleClass("menu-fixed",t>=p)}),i.find(".js-select").each(function(t,n){var a,i=e(n),o=i.parent(),s=i.data("placeholder"),r={includeValue:!0};void 0!==(a=s)&&a.length&&(r.placeholder=e("<span/>",{class:"gray",text:s})),i.customSelect(r),o.hasClass("invalid")&&o.find(".custom-select > .custom-select__option").on("click",function(){o.removeClass("invalid")})}),e(".js-industry").on("click",function(t){var a=e(t.currentTarget),i=a.hasClass(n);i?a.parent().find("input[type=hidden][value="+a.val()+"]").remove():e("<input/>",{type:"hidden",value:a.val(),name:a.data("hidden-name")}).insertAfter(a),a.toggleClass(n,!i)})})}(jQuery,Swiper);