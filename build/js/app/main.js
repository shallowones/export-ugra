"use strict";!function(e,t){e(function(){var n="invalid",a="active",o=e(window),s=e(".page"),i=e(".js-menu"),r=e(".js-menu-sub"),l=e(".left");i.find(".parent").on("mouseover",function(t){var n=e(t.currentTarget);if(!n.hasClass(a)){var o=e(t.currentTarget).find("ul");r.hasClass("show")?r.stop().animate({opacity:0},100,function(){setTimeout(function(){r.html(o[0].outerHTML),r.animate({opacity:1},300)},200)}):r.html(o[0].outerHTML).addClass("show").stop().animate({opacity:1},100),i.find(".parent").removeClass(a),n.addClass(a)}});e("body").bind("mouseover",function(t){if(r.hasClass("show")){var n=e(t.target);l.find(n).length||r.stop().animate({opacity:0},300,function(){setTimeout(function(){r.removeClass("show").removeAttr("style"),i.find(".parent").removeClass(a)},200)})}}),new t(".js-main-slider",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new t(".mobile-news",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new t(".js-projects",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new t(".js-partners",{slidesPerView:"auto",autoplay:!0,navigation:{nextEl:".js-partners-next",prevEl:".js-partners-prev"}});var c=new t(".js-slider",{loop:!0,loopedSlides:6,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".slider-next",prevEl:".slider-prev"}});new t(".js-slider-thumbs",{loop:!0,loopedSlides:6,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0,controller:{control:c},on:{init:function(){c.controller.control=this}}}),e(".form-control.invalid").find(".form-control__input, .form-control__textarea").focus(function(t){e(t.currentTarget).parent().removeClass(n)});e(".js-hidden").on("click",function(t){var n=e(t.currentTarget),a=n.parent().find(".hidden-block"),o=n.find("span"),s=n.hasClass("show");n.animate({opacity:0},200,function(){s?o.text(a.find("b").text()):o.text("Свернуть"),n.toggleClass("show",!s),a.slideToggle(200),setTimeout(function(){n.animate({opacity:1},200)},200)})}),e(".js-lang").on("click",function(t){e(t.currentTarget).toggleClass("show")});var u="mobile-open",d=e(".mobile-menu").find(".parent");e(".js-mobile").on("click",function(){s.toggleClass(u)}),d.find("span").on("click",function(t){var n=e(t.currentTarget).parent(),o=n.find("ul");n.hasClass(a)?(n.removeClass(a),o.slideUp()):(n.addClass(a),o.slideDown())}),o.resize(function(e){e.currentTarget.innerWidth>1024&&s.hasClass(u)&&(s.removeClass(u),d.find("span").removeClass(a).parent().find("ul").removeAttr("style"))});var p=s.find(".main"),f=p.offset().top;s.scroll(function(e){var t=e.target.scrollTop;p.toggleClass("menu-fixed",t>=f)}),s.find(".js-select").each(function(t,a){var o,s=e(a),i=s.parent(),r=s.data("placeholder"),l={includeValue:!0};void 0!==(o=r)&&o.length&&(l.placeholder=e("<span/>",{class:"gray",text:r})),s.customSelect(l),i.hasClass(n)&&i.find(".custom-select > .custom-select__option").on("click",function(){i.removeClass(n)})}),e(".js-industry").on("click",function(t){var n=e(t.currentTarget),o=n.hasClass(a);o?n.parent().find("input[type=hidden][value="+n.val()+"]").remove():e("<input/>",{type:"hidden",value:n.val(),name:n.data("hidden-name")}).insertAfter(n),n.toggleClass(a,!o)})})}(jQuery,Swiper);